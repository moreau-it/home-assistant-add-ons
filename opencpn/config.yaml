name: "OpenCPN"
version: "latest"
slug: "opencpn"
description: "Marine navigation app OpenCPN running as a Home Assistant add-on with KasmVNC"
url: "https://github.com/moreau-it/home-assistant-add-ons"

arch:
  - aarch64
  - amd64

startup: services
boot: auto
init: false

# ðŸ”¹ Ingress-only: no direct host port here
# If you later want direct access again, you can re-add the ports block.
# ports:
#   "6080/tcp": 6080
# ports_description:
#   "6080/tcp": "KasmVNC web (HTTP & HTTPS)"

# ðŸ”¹ For ingress add-ons, webui is usually left out or points to the ingress URL.
# Home Assistant ignores [HOST]/[PORT] here when using ingress.
# You can safely remove it:
# webui: "http://[HOST]:[PORT:6080]/"

# ðŸ”¹ Ingress configuration
ingress: true
ingress_port: 6080         # internal port where KasmVNC listens

panel_title: "OpenCPN"
panel_icon: "mdi:crosshairs-gps"
panel_admin: false         # true = only admins see the sidebar entry

devices:
  - /dev/ttyAMA0
  - /dev/ttyUSB0
  - /dev/hidraw0
  - /dev/hidraw1

udev: true
stdin: true
tty: true

privileged:
  - SYS_ADMIN
  - NET_ADMIN
  - SYS_RAWIO

map:
  - share:rw
  - config:rw

options:
  vnc_password: "ChangeMe123"
  insecure_mode: false

schema:
  vnc_password: password?
  insecure_mode: bool
